# 安全组配置示例<a name="zh-cn_topic_0140749075"></a>

## 案例一：不同安全组内的裸金属服务器内网互通<a name="section4744164052119"></a>

-   场景举例

    在同一个VPC内，用户需要将某个安全组内一台裸金属服务器上的资源拷贝到另一个安全组内的裸金属服务器上时，可以将两台裸金属服务器设置为内网互通后再拷贝资源。

-   安全组配置方法

    由于同一个VPC内，在同一个安全组内的裸金属服务器默认互通，无需配置。但是，在不同安全组内的裸金属服务器默认无法通信，此时需要添加安全组规则，使得不同安全组内的裸金属服务器内网互通。

    在两台裸金属服务器所在安全组中分别添加一条入方向安全组规则，放通来自另一个安全组内的实例的访问，实现内网互通，安全组规则如下所示。

|协议|方向|端口范围/ICMP协议类型|源地址|
|--|--|--|--|
|设置内网互通时使用的协议类型（支持TCP/UDP/ICMP/All）|入方向|设置端口范围或者ICMP协议类型|IPv4地址、IPv4 CIDR或者另一个安全组的ID|



## 案例二：仅允许特定IP地址远程登录裸金属服务器<a name="section175551446182411"></a>

-   场景举例

    为了防止裸金属服务器被网络攻击，用户可以修改远程登录端口号，并设置安全组规则只允许特定的IP地址远程登录到裸金属服务器。

-   安全组配置方法

    以仅允许特定IP地址（例如，192.168.20.2）通过SSH协议访问Linux操作系统的裸金属服务器的22端口为例，安全组规则如下所示。

|协议|方向|端口范围|源地址|
|--|--|--|--|
|SSH（22）|入方向|22|IPv4地址、IPv4 CIDR或者另一个安全组的ID。例如：192.168.20.2|



## 案例三：SSH远程连接Linux裸金属服务器<a name="section598913913262"></a>

-   场景举例

    Linux裸金属服务器创建完成后，为了通过SSH远程连接裸金属服务器，您需要添加安全组规则。

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >默认安全组中已经配置了该条规则，如您使用默认安全组，无需重复配置。

-   安全组配置方法

|协议|方向|端口范围|源地址|
|--|--|--|--|
|SSH（22）|入方向|22|0.0.0.0/0|



## 案例四：RDP远程连接Windows裸金属服务器<a name="section3923173412303"></a>

-   场景举例

    Windows裸金属服务器创建完成后，为了通过RDP远程连接裸金属服务器，您需要添加安全组规则。

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >默认安全组中已经配置了该条规则，如您使用默认安全组，无需重复配置。

-   安全组配置方法

|协议|方向|端口范围|源地址|
|--|--|--|--|
|RDP（3389）|入方向|3389|0.0.0.0/0|



## 案例五：公网ping裸金属服务器<a name="section136661726193213"></a>

-   场景举例

    裸金属服务器创建完成后，为了使用ping程序测试裸金属服务器之间的通讯状况，您需要添加安全组规则。

-   安全组配置方法

|协议|方向|端口范围|源地址|
|--|--|--|--|
|ICMP|入方向|All|0.0.0.0/0|



